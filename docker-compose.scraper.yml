version: '3.8'

services:
  scraper:
    build:
      context: .
      dockerfile: scraper/Dockerfile
    container_name: battlesnake-scraper
    restart: unless-stopped
    environment:
      - WRITTEN_LOG=/data/written_games.log
      - OUT_DIR=/output
      - MAX_PLAYERS=100
      - DELAY=500ms
    volumes:
      # Written-log persistence
      - ./scraper-data:/data
      # Training data output (mount your data folder here)
      - ./data:/output
    # Override default command if needed
    # command: ["-max-players=50"]
